!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).deepCopy=e()}}(function(){return function(){return function e(t,r,n){function o(p,i){if(!r[p]){if(!t[p]){var s="function"==typeof require&&require;if(!i&&s)return s(p,!0);if(a)return a(p,!0);var y=new Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}var f=r[p]={exports:{}};t[p][0].call(f.exports,function(e){return o(t[p][1][e]||e)},f,f.exports,e,t,r,n)}return r[p].exports}for(var a="function"==typeof require&&require,p=0;p<n.length;p++)o(n[p]);return o}}()({1:[function(e,t,r){"use strict";const[n,o,a]=e("./object-library.js"),p={goDeep:!0,includeNonEnumerable:!1,maxDepth:20},i=(e,t)=>{let{destObject:r,srcType:n,depth:o,options:p}=t;if(++o>=p.maxDepth)return;const s=a[n];if(!s.mayDeepCopy)return;const y=s.addElement;s.iterate(e,p.includeNonEnumerable,e=>{const t=e.value,n=e.type;let s=a[n].mayDeepCopy,f=s?a[n].makeEmpty(t):a[n].makeShallow(t);y(r,e.key,f,e.descriptor),s&&i(t,{destObject:f,srcType:n,depth:o,options:p})})};t.exports=function(e,t=p){if(Object.keys(p).forEach(e=>{void 0===t[e]&&(t[e]=p[e])}),n(e))return e;if(!t.goDeep)return a[o(e)].makeShallow(e);const r=o(e);if(!a[r].mayDeepCopy)return a[r].makeShallow(e);let s=a[r].makeEmpty(e);return i(e,{destObject:s,srcType:r,depth:0,options:t}),s}},{"./object-library.js":2}],2:[function(e,t,r){const n={},o=e=>{let t=typeof e;return"number"===t||"string"===t||"boolean"===t||"undefined"===t||"bigint"===t||"symbol"===t||null===e},a=e=>{if(o(e)||!(e instanceof Object))return"primitive";const t=e.constructor&&e.constructor.name&&e.constructor.name.toLowerCase();if("string"==typeof t&&t.length&&n[t])return t;let r;for(const t in n)if(!(r=n[t].type)||e instanceof r)return t;return"unknown"},p=(e,t,r)=>Array.prototype.push.call(e,r),i=e=>{const t=[];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},s=e=>{const t=[...e];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},y=(e,t,r)=>{const n=e.length;for(let t=0;t<n;t++){const n=e[t];r({key:t,value:n,type:a(n)})}},f=(e,t,r,n)=>{n?Object.defineProperty(e,t,n):e[t]=r},l=e=>{const t={};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},c=e=>{const t=Object.assign({},e);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},u=(e,t,r)=>{const n=t?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;for(let p=0;p<o;p++){const o=n[p],i=e[o],s={key:o,value:i,type:a(i)};t&&!e.propertyIsEnumerable(o)&&(s.descriptor=Object.getOwnPropertyDescriptor(e,o)),r(s)}};Object.assign(n,{array:{type:Array,mayDeepCopy:!0,addElement:p,makeEmpty:i,makeShallow:s,iterate:y}}),Object.assign(n,{date:{type:Date,makeShallow:e=>new Date(e.getTime())}}),Object.assign(n,{regexp:{type:RegExp,makeShallow:e=>new RegExp(e)}}),Object.assign(n,{function:{type:Function,makeShallow:e=>e}}),Object.assign(n,{error:{type:Error,makeShallow:e=>{const t=new Error(e.message);return t.stack=e.stack,t}}}),["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint32Array","Float32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].forEach(e=>(e=>{let t="undefined"!=typeof global&&global[e]||"undefined"!=typeof window&&window[e]||"undefined"!=typeof WorkerGlobalScope&&WorkerGlobalScope[e];void 0!==t&&(n[e.toLowerCase()]={type:t,makeShallow:e=>t.from(e)})})(e)),"undefined"!=typeof ArrayBuffer&&Object.assign(n,{arraybuffer:{type:ArrayBuffer,makeShallow:e=>e.slice(0)}}),"undefined"!=typeof Map&&Object.assign(n,{map:{type:Map,mayDeepCopy:!0,addElement:(e,t,r)=>e.set(t,r),makeEmpty:()=>new Map,makeShallow:e=>new Map(e),iterate:(e,t,r)=>{e.forEach((e,t)=>{const n={key:t,value:e,type:a(e)};r(n)})}}}),"undefined"!=typeof Set&&Object.assign(n,{set:{type:Set,mayDeepCopy:!0,addElement:(e,t,r)=>e.add(r),makeEmpty:()=>new Set,makeShallow:e=>new Set(e),iterate:(e,t,r)=>{e.forEach(e=>{const t={key:null,value:e,type:a(e)};r(t)})}}}),"undefined"!=typeof WeakSet&&Object.assign(n,{weakset:{type:WeakSet,makeShallow:e=>e}}),"undefined"!=typeof WeakMap&&Object.assign(n,{weakmap:{type:WeakMap,makeShallow:e=>e}}),"undefined"!=typeof Buffer&&Object.assign(n,{buffer:{type:Buffer,makeShallow:e=>Buffer.from(e)}}),Object.assign(n,{object:{type:Object,mayDeepCopy:!0,addElement:f,makeEmpty:l,makeShallow:c,iterate:u}}),Object.assign(n,{unknown:{makeShallow:e=>e},primitive:{makeShallow:e=>e}}),t.exports=[o,a,n]},{}]},{},[1])(1)});