const isPrimitive=e=>{let t=typeof e;return"number"===t||"string"===t||"boolean"===t||"undefined"===t||"bigint"===t||"symbol"===t||null===e},objectType=e=>{if(isPrimitive(e)||!e instanceof Object)return"primitive";const t=e.constructor&&e.constructor.name&&e.constructor.name.toLowerCase();if("string"==typeof t&&t.length&&objectBehaviors[t])return t;let r;for(const t in objectBehaviors)if(!(r=objectBehaviors[t].type)||e instanceof r)return t;return"unknown"},objectBehaviors={array:{type:Array,mayDeepCopy:!0,addElement:(e,t,r)=>Array.prototype.push.call(e,r),makeEmpty:e=>{const t=[];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},makeShallow:e=>{const t=[...e];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},iterate:(e,t,r)=>{const a=e.length;for(let t=0;t<a;t++){const a=e[t];r({key:t,value:a,type:objectType(a)})}}},date:{type:Date,makeShallow:e=>new Date(e.getTime())},regexp:{type:RegExp,makeShallow:e=>new RegExp(e)},function:{type:Function,makeShallow:e=>e},int8array:{type:Int8Array,makeShallow:e=>Int8Array.from(e)},uint8array:{type:Uint8Array,makeShallow:e=>Uint8Array.from(e)},uint8clampedarray:{type:Uint8ClampedArray,makeShallow:e=>Uint8ClampedArray.from(e)},int16array:{type:Int16Array,makeShallow:e=>Int16Array.from(e)},uint16array:{type:Uint16Array,makeShallow:e=>Uint16Array.from(e)},int32array:{type:Int32Array,makeShallow:e=>Int32Array.from(e)},uint32array:{type:Uint32Array,makeShallow:e=>Uint32Array.from(e)},float32array:{type:Float32Array,makeShallow:e=>Float32Array.from(e)},float64array:{type:Float64Array,makeShallow:e=>Float64Array.from(e)},bigint64array:{type:BigInt64Array,makeShallow:e=>BigInt64Array.from(e)},biguint64array:{type:BigUint64Array,makeShallow:e=>BigUint64Array.from(e)},arraybuffer:{type:ArrayBuffer,makeShallow:e=>e.slice(0)},map:{type:Map,mayDeepCopy:!0,addElement:(e,t,r)=>e.set(t,r),makeEmpty:()=>new Map,makeShallow:e=>new Map(e),iterate:(e,t,r)=>{e.forEach((e,t)=>{const a={key:t,value:e,type:objectType(e)};r(a)})}},set:{type:Set,mayDeepCopy:!0,addElement:(e,t,r)=>e.add(r),makeEmpty:()=>new Set,makeShallow:e=>new Set(e),iterate:(e,t,r)=>{e.forEach(e=>{const t={key:null,value:e,type:objectType(e)};r(t)})}},weakset:{type:WeakSet,makeShallow:e=>e},weakmap:{type:WeakMap,makeShallow:e=>e},object:{type:Object,mayDeepCopy:!0,addElement:(e,t,r,a)=>{a?Object.defineProperty(e,t,a):e[t]=r},makeEmpty:e=>{const t={};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},makeShallow:e=>{const t=Object.assign({},e);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},iterate:(e,t,r)=>{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;for(let y=0;y<o;y++){const o=a[y],n=e[o],l={key:o,value:n,type:objectType(n)};t&&!e.propertyIsEnumerable(o)&&(l.descriptor=Object.getOwnPropertyDescriptor(e,o)),r(l)}}},unknown:{makeShallow:e=>e},primitive:{makeShallow:e=>e}};module.exports=[isPrimitive,objectType,objectBehaviors];